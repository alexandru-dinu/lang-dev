func collatz_once 1
    dup mov x
    2 % 0 == if
        load x 2 /
    else
        load x 3 * 1 +
    end
end

func collatz_seq 1
    dup mov x peek
    while
        load x 1 >
    do
        call collatz_once
        dup mov x
        peek
    end
    pop
end

5 call collatz_seq
